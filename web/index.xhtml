<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <head>
        <title>All Products</title>
    </head>
    <body>
        <ui:composition template="/template/common/commonLayout.xhtml">

            <ui:define name="content" class="container">


                <h3 class="center">Welcome to the Supermarket</h3>

                <h:form id="usermain">
                    <h:message for="usermain" class="errormessagebb animated lightSpeedOut" />

                    <div class="row">

                        <ui:repeat value="#{productBean.products}" var="pr" >
                            <div class="col s12 m6 l4">
                                <div class="card small">
                                    <div class="card-image">
                                        <img src="#{pr.imgURL}"/>
                                        <h:outputText value="#{pr.price}" class="card-title right">
                                            <f:convertNumber type="currency"/>

                                        </h:outputText>
                                        <!--<span class="card-title right"></span>-->
                                    </div>
                                    <div class="card-content">
                                        <p>#{pr.description}</p>
                                        <h4>#{pr.price}</h4>

                                    </div>
                                    <div class="card-action">
                                        <h:commandLink action="#{shoppingCart.removeOneProduct(pr)}" 
                                                       class="btn-floating btn-medium waves-effect waves-light left" >
                                            <i class="material-icons">keyboard_arrow_down</i>
                                        </h:commandLink>



                                        <span class="numshop inline2">
                                            <h:outputText value="#{shoppingCart.getProductQtyInCart(pr)}">
                                            </h:outputText>

                                        </span>


                                        <h:commandLink action="#{shoppingCart.addOneProduct(pr)}" 
                                                       class="btn-floating btn-medium waves-effect waves-light right" >
                                            <i class="material-icons">keyboard_arrow_up</i>
                                        </h:commandLink>
                                    </div>
                                </div>
                            </div>
                        </ui:repeat>
                    </div>


                </h:form>

            </ui:define>


        </ui:composition>



    </body>
</html>
